(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[90],{90528:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/staking/[chainId]/[valoperAddress]",function(){return c(36132)}])},36132:function(a,b,c){"use strict";c.r(b),c.d(b,{StakingBox:function(){return X},default:function(){return W}});var d=c(47568),e=c(34051),f=c.n(e),g=c(85893),h=c(3709),i=c(36979),j=c(23100),k=c(88911),l=c(91669),m=c(50174),n=c(86367),o=c(11028),p=c(47441),q=c(33229),r=c(33838),s=c(1004),t=c(56005),u=c(49394),v=c(80333),w=c(69558),x=c(99188),y=c(204),z=c(18273),A=c(93344),B=c(54641),C=c(96272),D=c(97822),E=c(95034),F=c(71567),G=c(295),H=c(33359),I=c(14548),J=c(27715),K=c(42150),L=c(9008),M=c.n(L),N=c(11163),O=c(74530),P=c(67294),Q=c(41260),R=c(93671),S=c(98152),T=c(17756),U=c(83454),V=c(48764).Buffer;function W(){var a,b,c,d=(b=(a=(0,N.useRouter)().query).chainId,c=a.valoperAddress,{selectedNetwork:("mainnet"===U.env.NEXT_PUBLIC_CHAIN_ENV?S.QW:S.fQ).find(function(a){return a.chainId===b}),valoperAddress:c}),e=d.selectedNetwork,f=d.valoperAddress,l="string"==typeof f?f:void 0;return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(h.R,{offsetY:"200px",in:!0,style:{width:"100%"},children:(0,g.jsxs)(i.W,{mt:12,flexDir:"column",top:20,zIndex:2,position:"relative",justifyContent:"center",alignItems:"center",maxW:"5xl",children:[(0,g.jsxs)(M(),{children:[(0,g.jsxs)("title",{children:["Staking on ",null==e?void 0:e.name]}),(0,g.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),(0,g.jsx)("link",{rel:"icon",href:"/quicksilver/img/favicon.png"})]}),e&&l&&function(){if("string"==typeof f)try{return J.gW.decode(f),!0}catch(a){}return!1}()?(0,g.jsx)(X,{valoperAddress:l,selectedOption:e}):(0,g.jsxs)(j.xu,{maxW:"md",mx:"auto",position:"relative",backdropFilter:"blur(50px)",bgColor:"rgba(255,255,255,0.1)",flex:"1",borderRadius:"10px",p:5,children:[(0,g.jsxs)(o.k,{children:[(0,g.jsx)(p.d,{textAlign:"center",color:"white",fontSize:"lg",pb:5,children:"You are attempting to delegate directly to a validator but there is an issue with the url."}),(0,g.jsx)(p.d,{textAlign:"center",color:"red",fontSize:"lg",children:"Error:"}),(0,g.jsx)(q.J,{textAlign:"center",color:"white",fontSize:"lg",pb:5,children:e?"Validator address not found. Please check the address and try again.":"The specified network was not found. Please check the URL and try again."})]}),(0,g.jsxs)(k.x,{textAlign:"center",children:["If you believe there is an issue, please contact us on"," ",(0,g.jsx)(r.r,{color:"complimentary.900",href:"https://discord.gg/4QXEJQcv",isExternal:!0,children:"Discord"})]})]})]})})})}var X=function(a){var b,c,e,i,L,M,N,S,W,X,Y,Z,$,_,aa,ab=a.selectedOption,ac=a.valoperAddress,ad=(0,P.useState)(0),ae=ad[0],af=ad[1],ag=(0,P.useState)("0"),ah=ag[0],ai=ag[1],aj=(0,I.Ab)(ab.chainName).address,ak=(0,I.Ab)("quicksilver").address,al=(0,T.dG)(ab.chainName),am=(0,R.qj)(ab.chainName,null!=aj?aj:""),an=am.balance,ao=am.isLoading,ap=(0,R.e_)("quicksilver",null!=ak?ak:"",ab.value.toLowerCase()),aq=ap.balance;ap.isLoading,ap.isError;var ar=(null==aq?void 0:aq.balance.amount)||"",as=(0,T.GN)((null==an?void 0:null===(b=an.balance)|| void 0===b?void 0:b.amount)||"0",-al),at=(0,R.S_)(ab.chainId),au=at.data;at.isLoading,at.isError,(0,P.useEffect)(function(){ai("0")},[ab.chainName]);var av=function(a){return Math.trunc(1e3*a)/1e3},aw=av(Number(as)),ax=av(aw?aw-.005:0),ay=ax/2,az=(0,P.useState)(!1),aA=az[0],aB=az[1],aC=(0,T.GN)(ar,-6),aD=aC.includes(".")?aC.substring(0,aC.indexOf(".")+3):aC,aE=av(Number(aD)),aF=aE/2,aG=(0,P.useState)(!1),aH=aG[0],aI=aG[1],aJ=(0,P.useState)(!1),aK=(aJ[0],aJ[1]),aL=(0,P.useState)("Pending"),aM=(aL[0],aL[1]),aN=U.env.NEXT_PUBLIC_CHAIN_ENV;ah&&!isNaN(Number(ah))&&au&&isNaN(Number(au.redemptionRate));var aO,aP=O.zq.interchainstaking.v1.MessageComposer.withTypeUrl.requestRedemption,aQ=1e6*Number(ah),aR={amount:aQ.toFixed(0),denom:null!==(W=null==au?void 0:au.localDenom)&& void 0!==W?W:""},aS=aP({value:aR,fromAddress:null!=ak?ak:"",destinationAddress:null!=aj?aj:""}),aT={amount:[{denom:"uqck",amount:"7500"},],gas:"500000"},aU=(0,Q.mS)("testnet"===aN?"quicksilvertestnet":"quicksilver").tx,aV=(aO=(0,d.Z)(f().mark(function a(b){var c;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b.preventDefault(),aI(!0),a.prev=2,a.next=5,aU([aS],{fee:aT,onSuccess:function(){aM("Success")}});case 5:c=a.sent,a.next=13;break;case 8:a.prev=8,a.t0=a.catch(2),console.error("Transaction failed",a.t0),aM("Failed"),aK(!0);case 13:return a.prev=13,aI(!1),a.finish(13);case 16:case"end":return a.stop()}},a,null,[[2,8,13,16]])})),function(a){return aO.apply(this,arguments)}),aW=function(a){af(a),ai("")},aX=(0,R.kP)(ab.chainName),aY=aX.validatorsData;aX.isLoading,aX.isError;var aZ=null!==(X=null===(c=null==aY?void 0:aY.find(function(a){return a.address===ac}))|| void 0===c?void 0:c.name)&& void 0!==X?X:"",a$={address:ac,intent:1},a_=V.alloc(0);a$&&(a_=V.concat([a_,(a0=a$.address,a1=a$.intent,a2=J.gW.decode(a0).words,a3=new Uint8Array(J.gW.fromWords(a2)),a5=((a4=a1)>1&&(a4=1),a4<0&&(a4=0),Math.abs(200*a4)),V.concat([V.from([a5]),a3]))]),a_=V.concat([V.from([2,a_.length]),a_]));var a0,a1,a2,a3,a4,a5,a6,a7=a_.length>0&&ac?a_.toString("base64"):"",a8=(0,O.iN.bank.v1beta1.MessageComposer.withTypeUrl.send)({fromAddress:null!=aj?aj:"",toAddress:null!==(Y=null==au?void 0:null===(e=au.depositAddress)|| void 0===e?void 0:e.address)&& void 0!==Y?Y:"",amount:(0,H.coins)(aQ.toFixed(0),null!==(Z=null==au?void 0:au.baseDenom)&& void 0!==Z?Z:"")}),a9=K.Ll.find(function(a){return a.chain_name===ab.chainName}),ba=null===(i=K.p5.find(function(a){return a.chain_name===ab.chainName}))|| void 0===i?void 0:null===(L=i.fees)|| void 0===L?void 0:L.fee_tokens,bb=null!==($=null==a9?void 0:a9.assets[0].base)&& void 0!==$?$:"",bc=null!==(_=null===(M=null==ba?void 0:ba.find(function(a){return a.denom===bb}))|| void 0===M?void 0:M.average_gas_price)&& void 0!==_?_:"",bd=(0,T.GN)(bc,6),be={amount:[{denom:bb,amount:bd.toString()},],gas:"500000"},bf=(0,Q.mS)(ab.chainName).tx,bg=(a6=(0,d.Z)(f().mark(function a(b){var c;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b.preventDefault(),aI(!0),aM("Pending"),a.prev=3,a.next=6,bf([a8],{memo:a7,fee:be,onSuccess:function(){aM("Success")}});case 6:c=a.sent,a.next=14;break;case 9:a.prev=9,a.t0=a.catch(3),console.error("Transaction failed",a.t0),aM("Failed"),aK(!0);case 14:return a.prev=14,aI(!1),a.finish(14);case 17:case"end":return a.stop()}},a,null,[[3,9,14,17]])})),function(a){return a6.apply(this,arguments)}),bh=!!aj,bi=0===Number(ah)||!bh||.1>Number(ah),bj="";bh?.1>Number(ah)&&(bj="Minimum amount to stake is 0.1"):bj="Connect your wallet to stake";var bk=(0,R.su)(null!==(aa=null==ab?void 0:ab.chainName)&& void 0!==aa?aa:"",aY||[]),bl=bk.data;bk.isLoading;var bm=bl?bl[ac]:void 0;return(0,g.jsx)(j.xu,{maxW:"500px",mx:"auto",position:"relative",backdropFilter:"blur(50px)",bgColor:"rgba(255,255,255,0.1)",flex:"1",borderRadius:"10px",p:5,children:(0,g.jsxs)(s.m,{isFitted:!0,variant:"enclosed",onChange:aW,children:[(0,g.jsxs)(t.t,{mt:"4",mb:"1em",overflow:"hidden",borderBottomColor:"transparent",bg:"rgba(255,255,255,0.1)",p:2,borderRadius:"25px",children:[(0,g.jsx)(u.O,{borderRadius:"25px",flex:"1",color:"white",fontWeight:"bold",transition:"background-color 0.2s ease-in-out, color 0.2s ease-in-out, border-color 0.2s ease-in-out",_hover:{borderBottomColor:"complimentary.900"},_selected:{bgColor:"rgba(0,0,0,0.5)",color:"complimentary.900",borderColor:"complimentary.900"},children:"Stake"}),(0,g.jsx)(u.O,{borderRadius:"25px",flex:"1",color:"white",fontWeight:"bold",transition:"background-color 0.2s ease-in-out, color 0.2s ease-in-out, border-color 0.2s ease-in-out",_hover:{borderBottomColor:"complimentary.900"},_selected:{bgColor:"rgba(0,0,0,0.5)",color:"complimentary.900",borderColor:"complimentary.900"},children:"Unstake"})]}),(0,g.jsxs)(v.n,{children:[(0,g.jsx)(h.R,{offsetY:"-80px",in:0===ae,children:(0,g.jsx)(w.x,{children:(0,g.jsxs)(l.g,{spacing:8,align:"center",children:[(0,g.jsxs)(k.x,{fontWeight:"light",textAlign:"center",color:"white",children:["Stake your ",ab.value.toUpperCase()," tokens in exchange for q",ab.value.toUpperCase()]}),(0,g.jsxs)(o.k,{py:4,textAlign:"left",color:"white",children:[(0,g.jsx)(p.d,{fontSize:"lg",py:1,children:"Validator:"}),aZ?(0,g.jsxs)(q.J,{children:[!bm&&(0,g.jsx)(m.s,{boxSize:"26px",objectFit:"cover",marginRight:"8px",display:"inline-block",verticalAlign:"middle",startColor:"complimentary.900",endColor:"complimentary.100"}),bm&&(0,g.jsx)(n.E,{borderRadius:"full",src:bm,alt:aZ,boxSize:"35px",objectFit:"cover",marginRight:"8px",display:"inline-block",verticalAlign:"middle",mt:-2}),aZ]}):(0,g.jsx)(x.N,{mt:"4",h:"20px",startColor:"complimentary.900",endColor:"complimentary.500",noOfLines:1,w:"150px"})]}),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(y.k,{flexDirection:"column",w:"100%",children:[(0,g.jsxs)(o.k,{py:4,textAlign:"left",color:"white",children:[(0,g.jsx)(p.d,{children:"Amount to stake:"}),(0,g.jsxs)(q.J,{children:[ab.value.toUpperCase()," "]})]}),(0,g.jsx)(z.I,{_active:{borderColor:"complimentary.900"},_selected:{borderColor:"complimentary.900"},_hover:{borderColor:"complimentary.900"},_focus:{borderColor:"complimentary.900",boxShadow:"0 0 0 3px #FF8000"},color:"complimentary.900",textAlign:"right",placeholder:aA?"Invalid Number":"amount",_placeholder:{color:aA?"red.500":"grey"},value:ah,type:"text",onChange:function(a){(/^\d*\.?\d*$/.test(a.target.value)||""===a.target.value)&&ai(a.target.value)},onBlur:function(){if("."===ah)aB(!0),ai("");else{var a=parseFloat(ah);isNaN(a)||a<=0?(aB(!0),ai("")):a>ax?(aB(!1),ai(ax.toString())):(aB(!1),ai(a.toString()))}}}),(0,g.jsxs)(y.k,{w:"100%",flexDirection:"row",py:4,mb:-4,justifyContent:"space-between",alignItems:"center",children:[(0,g.jsx)(y.k,{mb:-4,alignItems:"center",justifyContent:"center",gap:4,flexDirection:"row",children:aj?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(k.x,{color:"white",fontWeight:"light",children:["Tokens available:"," "]}),ao?(0,g.jsx)(A.O,{startColor:"complimentary.900",endColor:"complimentary.400",children:(0,g.jsx)(x.N,{w:"95px",noOfLines:1,skeletonHeight:"18px"})}):(0,g.jsx)(k.x,{color:"complimentary.900",fontWeight:"light",children:aj?(null==an?void 0:null===(N=an.balance)|| void 0===N?void 0:N.amount)&&0!==Number(null==an?void 0:null===(S=an.balance)|| void 0===S?void 0:S.amount)?"".concat(aw," ").concat(ab.value.toUpperCase()):(0,g.jsxs)(r.r,{href:"https://app.osmosis.zone/?from=USDC&to=".concat(ab.value.toUpperCase()),isExternal:!0,children:["Get ",ab.value.toUpperCase()," tokens here"]}):"0"})]}):(0,g.jsx)(k.x,{color:"complimentary.900",fontWeight:"light",children:"Connect your wallet to stake"})}),(0,g.jsxs)(B.U,{mb:-4,spacing:2,children:[(0,g.jsx)(C.z,{_hover:{bgColor:"rgba(255,255,255,0.05)",backdropFilter:"blur(10px)"},_active:{bgColor:"rgba(255,255,255,0.05)",backdropFilter:"blur(10px)"},color:"complimentary.900",variant:"ghost",w:"60px",h:"30px",onClick:function(){return ai(ay.toString())},isDisabled:!an||1>Number(an),children:"half"}),(0,g.jsx)(C.z,{_hover:{bgColor:"rgba(255,255,255,0.05)",backdropFilter:"blur(10px)"},_active:{bgColor:"rgba(255,255,255,0.05)",backdropFilter:"blur(10px)"},color:"complimentary.900",variant:"ghost",w:"60px",h:"30px",onClick:function(){return ai(ax.toString())},isDisabled:!an||1>Number(an),children:"max"})]})]})]}),(0,g.jsx)(D.i,{bgColor:"complimentary.900"}),(0,g.jsxs)(B.U,{justifyContent:"space-between",alignItems:"left",w:"100%",mt:-8,children:[(0,g.jsxs)(o.k,{textAlign:"left",color:"white",children:[(0,g.jsx)(p.d,{children:"What you'll get"}),(0,g.jsxs)(q.J,{children:["q",ab.value.toUpperCase(),":"]})]}),(0,g.jsx)(E.L,{})," ",(0,g.jsx)(o.k,{py:4,textAlign:"right",color:"white",children:(0,g.jsx)(q.J,{textColor:"complimentary.900",children:(Number(ah)/(Number(null==au?void 0:au.redemptionRate)||1)).toFixed(2)})})]}),(0,g.jsx)(F.u,{hasArrow:!0,label:bj,isDisabled:!bi,children:(0,g.jsx)(C.z,{width:"100%",_hover:{bgColor:"complimentary.1000"},isDisabled:0===Number(ah)||!aj||.1>Number(ah),onClick:bg,children:aH?(0,g.jsx)(G.$,{thickness:"2px",speed:"0.65s",emptyColor:"gray.200",color:"complimentary.900",size:"sm"}):"Liquid Stake"})})]})]})})}),(0,g.jsx)(h.R,{offsetY:"200px",in:1===ae,children:(0,g.jsx)(w.x,{children:(0,g.jsxs)(l.g,{spacing:8,align:"center",children:[(0,g.jsxs)(k.x,{fontWeight:"light",textAlign:"center",color:"white",children:["Unstake your q",ab.value.toUpperCase()," tokens in exchange for ",ab.value.toUpperCase(),"."]}),(0,g.jsxs)(y.k,{flexDirection:"column",w:"100%",children:[(0,g.jsxs)(o.k,{py:4,textAlign:"left",color:"white",children:[(0,g.jsx)(p.d,{children:"Amount to unstake:"}),(0,g.jsxs)(q.J,{children:["q",ab.value.toUpperCase()," "]})]}),(0,g.jsx)(z.I,{_active:{borderColor:"complimentary.900"},_selected:{borderColor:"complimentary.900"},_hover:{borderColor:"complimentary.900"},_focus:{borderColor:"complimentary.900",boxShadow:"0 0 0 3px #FF8000"},color:"complimentary.900",textAlign:"right",placeholder:aA?"Invalid Number":"amount",_placeholder:{color:aA?"red.500":"grey"},value:ah,type:"text",onChange:function(a){/^\d*\.?\d*$/.test(a.target.value)&&ai(a.target.value)},onBlur:function(){var a=parseFloat(ah);isNaN(a)||a<=0?(aB(!0),ai("")):a>aE?(aB(!1),ai(aE.toString())):(aB(!1),ai(a.toString()))}}),(0,g.jsxs)(y.k,{w:"100%",flexDirection:"row",py:4,mb:-4,justifyContent:"space-between",alignItems:"center",children:[aj?(0,g.jsxs)(y.k,{mb:-4,alignItems:"center",justifyContent:"center",gap:4,flexDirection:"row",children:[(0,g.jsxs)(k.x,{color:"white",fontWeight:"light",children:["Tokens available:"," "]}),ao?(0,g.jsx)(A.O,{startColor:"complimentary.900",endColor:"complimentary.400",children:(0,g.jsx)(x.N,{w:"95px",noOfLines:1,skeletonHeight:"18px"})}):(0,g.jsx)(k.x,{color:"complimentary.900",fontWeight:"light",children:aj?ar&&0!==Number(ar)?"".concat(aD," ").concat(ab.value.toUpperCase()):"No q".concat(ab.value.toUpperCase()):"0"})]}):(0,g.jsx)(k.x,{color:"complimentary.900",fontWeight:"light",children:"Connect your wallet to unstake"}),(0,g.jsxs)(B.U,{mb:-4,spacing:2,children:[(0,g.jsx)(C.z,{_hover:{bgColor:"rgba(255,255,255,0.05)",backdropFilter:"blur(10px)"},_active:{bgColor:"rgba(255,255,255,0.05)",backdropFilter:"blur(10px)"},color:"complimentary.900",variant:"ghost",w:"60px",h:"30px",onClick:function(){return ai(aF.toString())},isDisabled:!ar||1>Number(ar),children:"half"}),(0,g.jsx)(C.z,{_hover:{bgColor:"rgba(255,255,255,0.05)",backdropFilter:"blur(10px)"},_active:{bgColor:"rgba(255,255,255,0.05)",backdropFilter:"blur(10px)"},color:"complimentary.900",variant:"ghost",w:"60px",h:"30px",onClick:function(){return ai(aE.toString())},isDisabled:!ar||1>Number(ar),children:"max"})]})]})]}),(0,g.jsx)(D.i,{bgColor:"complimentary.900"}),(0,g.jsxs)(B.U,{justifyContent:"space-between",alignItems:"left",w:"100%",mt:-8,children:[(0,g.jsxs)(o.k,{textAlign:"left",color:"white",children:[(0,g.jsx)(p.d,{children:"What you'll get"}),(0,g.jsxs)(q.J,{children:[ab.value.toUpperCase(),":"]})]}),(0,g.jsx)(E.L,{})," ",(0,g.jsx)(o.k,{py:4,textAlign:"right",color:"white",children:(0,g.jsx)(q.J,{textColor:"complimentary.900",children:(Number(ah)*Number((null==au?void 0:au.redemptionRate)||1)).toFixed(2)})})]}),(0,g.jsx)(C.z,{width:"100%",_hover:{bgColor:"complimentary.1000"},onClick:aV,isDisabled:0===Number(ah)||!aj||aH||0===Number(null==aq?void 0:aq.balance.amount),children:aH?(0,g.jsx)(G.$,{thickness:"2px",speed:"0.65s",emptyColor:"gray.200",color:"complimentary.900",size:"sm"}):"Unstake"})]})})})]})]})})}},9008:function(a,b,c){a.exports=c(5443)},36979:function(a,b,c){"use strict";c.d(b,{W:function(){return j}});var d=c(16554),e=c(67798),f=c(77030),g=c(65548),h=c(25432),i=c(85893),j=(0,d.G)(function(a,b){let{className:c,centerContent:d,...j}=(0,e.Lr)(a),k=(0,f.mq)("Container",a);return(0,i.jsx)(g.m.div,{ref:b,className:(0,h.cx)("chakra-container",c),...j,__css:{...k,...d&&{display:"flex",flexDirection:"column",alignItems:"center"}}})});j.displayName="Container"}},function(a){a.O(0,[774,888,179],function(){var b;return a(a.s=90528)}),_N_E=a.O()}])